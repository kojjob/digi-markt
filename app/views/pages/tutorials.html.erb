<% content_for :title, "E-sika Tutorials & Learning Center"  %>
<div class="bg-theme-primary min-h-screen">
  <%# Hero Section - Enhanced with animated gradient background and pattern %>
  <section class="relative py-20 md:py-28 overflow-hidden">
    <div class="absolute inset-0 bg-gradient-to-r from-indigo-700 via-purple-700 to-indigo-700 opacity-95 animate-gradient-x"></div>
    <div class="absolute inset-0 bg-grid-white/[0.08] bg-grid-8"></div>
    <%# Animated blobs in background %>
    <div class="absolute top-1/4 left-10 md:left-20 w-72 h-72 bg-pink-600/20 rounded-full filter blur-3xl animate-blob"></div>
    <div class="absolute bottom-1/4 right-10 md:right-20 w-72 h-72 bg-blue-600/20 rounded-full filter blur-3xl animate-blob animation-delay-2000"></div>

    <div class="relative z-10 container mx-auto px-4 sm:px-6 lg:px-8 max-w-5xl">
      <div class="text-center">
        <div class="inline-block mb-6 rounded-full bg-white/10 backdrop-blur-sm px-3 py-1 border border-indigo-400/30">
          <div class="flex items-center space-x-2">
            <div class="h-2 w-2 rounded-full bg-indigo-200 animate-pulse"></div>
            <span class="text-sm font-medium text-indigo-100">Learn at your own pace</span>
          </div>
        </div>

        <h1 class="text-3xl md:text-5xl lg:text-6xl font-extrabold mb-6 text-white tracking-tight">
          Learn & Master <span class="text-transparent bg-clip-text bg-gradient-to-r from-indigo-200 to-pink-200">E-commerce</span>
        </h1>
        <p class="text-lg md:text-xl text-indigo-100 max-w-3xl mx-auto mb-10 leading-relaxed">
          Discover step-by-step tutorials to help you build, grow, and optimize your online store — from beginner basics to advanced techniques.
        </p>

        <%# Enhanced Search Box %>
        <div class="max-w-2xl mx-auto relative">
          <div class="absolute inset-y-0 left-4 flex items-center pointer-events-none">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-indigo-300" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" />
            </svg>
          </div>
          <input
            type="text"
            placeholder="Search for tutorials..."
            class="w-full py-4 pl-12 pr-4 rounded-xl border border-indigo-400/50 bg-white/10 text-white placeholder-indigo-200 focus:outline-none focus:ring-2 focus:ring-white/50 focus:border-transparent backdrop-blur-sm transition-all duration-200"
          >
          <div class="absolute inset-y-0 right-3 flex items-center">
            <span class="px-3 py-1 text-xs font-medium text-indigo-200 border border-indigo-400/30 rounded-md bg-indigo-500/30">⌘ K</span>
          </div>
        </div>

        <%# Stats Section %>
        <div class="mt-12 flex flex-wrap justify-center gap-x-8 gap-y-4 text-center text-indigo-100">
          <div class="flex flex-col items-center">
            <div class="text-2xl md:text-3xl font-bold">100+</div>
            <div class="text-sm mt-1">Tutorials</div>
          </div>
          <div class="flex flex-col items-center">
            <div class="text-2xl md:text-3xl font-bold">50K+</div>
            <div class="text-sm mt-1">Learners</div>
          </div>
          <div class="flex flex-col items-center">
            <div class="text-2xl md:text-3xl font-bold">4.8/5</div>
            <div class="text-sm mt-1">Avg. Rating</div>
          </div>
        </div>
      </div>
    </div>

    <%# Hero Wave Divider %>
    <div class="absolute bottom-0 left-0 right-0">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1440 120" fill="none" preserveAspectRatio="none" class="w-full h-auto">
        <path fill-rule="evenodd" clip-rule="evenodd" d="M0 0L48 8.875C96 17.9167 192 35.8333 288 53.75C384 71.6667 480 89.5833 576 80.9375C672 71.6667 768 35.8333 864 26.875C960 17.9167 1056 35.8333 1152 44.8125C1248 53.75 1344 53.75 1392 53.75H1440V120H1392C1344 120 1248 120 1152 120C1056 120 960 120 864 120C768 120 672 120 576 120C480 120 384 120 288 120C192 120 96 120 48 120H0V0Z" fill="currentColor" class="text-theme-primary"></path>
      </svg>
    </div>
  </section>

  <%# Featured Tutorial - Enhanced with card design %>
  <section class="py-12 md:py-16 relative">
    <div class="container mx-auto px-4 sm:px-6 lg:px-8 max-w-6xl">
      <div class="flex items-center justify-between mb-8">
        <h2 class="text-2xl font-bold text-theme-primary flex items-center">
          <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 mr-2 text-indigo-600" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-5.714 2.143L13 21l-2.286-6.857L5 12l5.714-2.143L13 3z" />
          </svg>
          Featured Tutorial
        </h2>
        
        <a href="<%= tutorials_path %>" class="text-sm font-medium text-indigo-600 hover:text-indigo-700 transition-colors flex items-center group">
          All Tutorials
          <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 ml-1 group-hover:translate-x-0.5 transition-transform" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
          </svg>
        </a>
      </div>

      <div class="featured-tutorial relative overflow-hidden rounded-2xl shadow-xl border border-indigo-100">
        <div class="absolute inset-0 bg-gradient-to-tr from-indigo-600 via-purple-600 to-indigo-600 opacity-95"></div>
        <div class="absolute inset-0 opacity-20 mix-blend-overlay" style="background-image: url('data:image/svg+xml,%3Csvg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" xmlns=\"http://www.w3.org/2000/svg\"%3E%3Cg fill=\"%23fff\" fill-opacity=\"1\" fill-rule=\"evenodd\"%3E%3Ccircle cx=\"3\" cy=\"3\" r=\"1.5\"%2F%3E%3Ccircle cx=\"13\" cy=\"13\" r=\"1.5\"%2F%3E%3C%2Fg%3E%3C/svg%3E');"></div>
        
        <div class="grid grid-cols-1 md:grid-cols-2 gap-0 relative">
          <div class="featured-tutorial-content p-8 md:p-12 relative z-10">
            <div class="bg-white/20 backdrop-blur-sm text-white text-xs font-bold px-3 py-1 rounded-full inline-flex items-center mb-6">
              <span class="w-2 h-2 rounded-full bg-red-400 animate-pulse mr-2"></span>
              Featured
            </div>
            
            <h3 class="text-2xl md:text-3xl font-extrabold mb-4 text-white"><%= @featured_tutorial[:title] %></h3>
            <p class="text-indigo-100 mb-6 text-base md:text-lg"><%= @featured_tutorial[:excerpt] %></p>

            <div class="flex items-center mb-6">
              <div class="flex-shrink-0 mr-3">
                <div class="relative">
                  <img
                    src="<%= @featured_tutorial[:author][:avatar] %>"
                    alt="<%= @featured_tutorial[:author][:name] %>"
                    class="w-12 h-12 rounded-full border-2 border-indigo-300 object-cover"
                  >
                  <div class="absolute bottom-0 right-0 bg-green-400 w-3 h-3 rounded-full border-2 border-white"></div>
                </div>
              </div>
              <div>
                <div class="font-semibold text-white"><%= @featured_tutorial[:author][:name] %></div>
                <div class="text-xs text-indigo-200"><%= @featured_tutorial[:author][:role] %></div>
              </div>
            </div>

            <div class="flex items-center gap-4 mb-8 text-sm">
              <div class="flex items-center bg-indigo-700/50 backdrop-blur-sm rounded-full px-3 py-1.5 text-indigo-100">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 mr-1.5 flex-shrink-0" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z" />
                </svg>
                <span><%= @featured_tutorial[:duration] %></span>
              </div>

              <div class="flex items-center bg-indigo-700/50 backdrop-blur-sm rounded-full px-3 py-1.5 text-indigo-100">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 mr-1.5 flex-shrink-0" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z" />
                </svg>
                <span><%= @featured_tutorial[:level] %></span>
              </div>

              <div class="hidden sm:flex items-center bg-indigo-700/50 backdrop-blur-sm rounded-full px-3 py-1.5 text-indigo-100">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 mr-1.5 flex-shrink-0" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z" />
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z" />
                </svg>
                <span>1.2K Views</span>
              </div>
            </div>

            <a href="<%= tutorial_detail_path(@featured_tutorial[:slug]) %>" class="group inline-flex items-center px-6 py-3.5 rounded-xl bg-white text-indigo-700 font-medium hover:bg-indigo-50 transition-all duration-200 shadow-md hover:shadow-lg">
              <span>Start Learning</span>
              <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 ml-2 group-hover:translate-x-1 transition-transform duration-200" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14 5l7 7m0 0l-7 7m7-7H3" />
              </svg>
            </a>
          </div>

          <div class="hidden md:block relative">
            <div class="absolute inset-0 bg-gradient-to-l from-transparent to-indigo-600/80 z-10"></div>
            <img
              src="<%= @featured_tutorial[:image] %>"
              alt="<%= @featured_tutorial[:title] %>"
              class="h-full w-full object-cover"
            >
          </div>
        </div>
      </div>
    </div>
  </section>

  <%# Categories Filter - Enhanced with interactive pills %>
  <section class="py-8">
    <div class="container mx-auto px-4 sm:px-6 lg:px-8 max-w-6xl">
      <h2 class="text-xl font-bold text-theme-primary mb-6 flex items-center">
        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2 text-indigo-600" fill="none" viewBox="0 0 24 24" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z" />
        </svg>
        Browse by Category
      </h2>
      
      <div class="flex flex-wrap gap-3 justify-center md:justify-start">
        <a href="#" class="category-pill active group" data-category="all">
          <span class="flex items-center">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 category-icon" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" />
            </svg>
            All Tutorials
            <span class="ml-2 bg-white/20 text-white text-xs px-2 py-0.5 rounded-full group-hover:bg-white/30 transition-colors">
              <%= @tutorials.length %>
            </span>
          </span>
        </a>

        <% @categories.each do |category| %>
          <a href="#" class="category-pill group" data-category="<%= category[:slug] %>">
            <span class="flex items-center">
              <% case category[:icon] %>
              <% when "rocket" %>
                <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 category-icon category-icon-rocket" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z" />
                </svg>
              <% when "code" %>
                <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 category-icon category-icon-code" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 20l4-16m4 4l4 4-4 4M6 16l-4-4 4-4" />
                </svg>
              <% when "brush" %>
                <svg xmlns="http://www.w3.org/2000/svg" class="category-icon category-icon-brush" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z" />
                </svg>
              <% when "chart" %>
                <svg xmlns="http://www.w3.org/2000/svg" class="category-icon category-icon-chart" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z" />
                </svg>
              <% when "chart-bar" %>
                <svg xmlns="http://www.w3.org/2000/svg" class="category-icon category-icon-chart-bar" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 8v8m-4-5v5m-4-2v2m-2 4h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z" />
                </svg>
              <% when "shield" %>
                <svg xmlns="http://www.w3.org/2000/svg" class="category-icon category-icon-shield" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z" />
                </svg>
              <% else %>
                <svg xmlns="http://www.w3.org/2000/svg" class="category-icon" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
                </svg>
              <% end %>
              <%= category[:name] %>
              <span class="ml-2 bg-black/10 text-theme-primary text-xs px-2 py-0.5 rounded-full group-hover:bg-black/20 transition-colors">
                <%= @tutorials.select { |t| t[:categories].include?(category[:slug]) }.length %>
              </span>
            </span>
          </a>
        <% end %>
      </div>
    </div>
  </section>

  <%# Tutorials Grid - Enhanced with modern card design %>
  <section class="py-8 pb-24">
    <div class="container mx-auto px-4 sm:px-6 lg:px-8 max-w-6xl">
      <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
        <% @tutorials.each do |tutorial| %>
          <div class="tutorial-card group" data-categories="<%= tutorial[:categories].join(' ') %>">
            <div class="relative overflow-hidden rounded-t-xl">
              <img
                src="<%= tutorial[:image] %>"
                alt="<%= tutorial[:title] %>"
                class="tutorial-card-image group-hover:scale-105 transition-transform duration-500"
              >
              <div class="absolute top-4 right-4 z-10">
                <% case tutorial[:level] %>
                <% when "Beginner" %>
                  <span class="level-badge level-badge-beginner">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-.5 w-3.5 mr-1" fill="red" viewBox="0 0 24 24" stroke="currentColor">
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-5.714 2.143L13 21l-2.286-6.857L5 12l5.714-2.143L13 3z" />
                    </svg>
                    Beginner
                  </span>
                <% when "Intermediate" %>
                  <span class="level-badge level-badge-intermediate">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-3.5 w-3.5 mr-1" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z" />
                    </svg>
                    Intermediate
                  </span>
                <% when "Advanced" %>
                  <span class="level-badge level-badge-advanced">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-3.5 w-3.5 mr-1" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z" />
                    </svg>
                    Advanced
                  </span>
                <% end %>
              </div>
              <div class="absolute inset-0 bg-gradient-to-t from-theme-primary/90 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"></div>
              <div class="absolute bottom-4 left-4 z-10 opacity-0 group-hover:opacity-100 transition-opacity duration-300 transform translate-y-4 group-hover:translate-y-0">
                <a href="<%= tutorial_detail_path(tutorial[:slug]) %>" class="inline-flex items-center bg-indigo-600 text-white px-3 py-1.5 rounded-lg text-sm font-medium hover:bg-indigo-700 transition-colors">
                  <span>Start Learning</span>
                  <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 ml-1" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14 5l7 7m0 0l-7 7m7-7H3" />
                  </svg>
                </a>
              </div>
            </div>

            <div class="tutorial-card-content relative">
              <div class="flex gap-2 mb-3">
                <% tutorial[:categories].first(2).each do |category| %>
                  <span class="inline-flex items-center px-2 py-1 rounded-md text-xs font-medium bg-indigo-50 text-indigo-600">
                    <%= @categories.find { |c| c[:slug] == category }[:name] %>
                  </span>
                <% end %>
              </div>
              
              <h3 class="tutorial-card-title">
                <a href="<%= tutorial_detail_path(tutorial[:slug]) %>" class="hover:text-indigo-600 transition-colors">
                  <%= tutorial[:title] %>
                </a>
              </h3>
              <p class="tutorial-card-excerpt"><%= tutorial[:excerpt] %></p>

              <div class="tutorial-card-meta">
                <div class="flex items-center">
                  <img
                    src="<%= tutorial[:author][:avatar] %>"
                    alt="<%= tutorial[:author][:name] %>"
                    class="w-7 h-7 rounded-full border border-indigo-100 mr-2 object-cover"
                  >
                  <span><%= tutorial[:author][:name] %></span>
                </div>

                <div class="duration-badge bg-indigo-50 text-indigo-700 px-2 py-1 rounded-md flex gap-1">
                  <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 duration-icon" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z" />
                  </svg>
                  <span><%= tutorial[:duration] %></span>
                </div>
              </div>
            </div>
          </div>
        <% end %>
      </div>
    </div>
  </section>

  <%# Newsletter Section - New Section %>
  <section class="bg-theme-secondary py-16 md:py-20 relative overflow-hidden">
    <div class="absolute inset-0 opacity-30" style="background-image: url('data:image/svg+xml,%3Csvg width=\"60\" height=\"60\" viewBox=\"0 0 60 60\" xmlns=\"http://www.w3.org/2000/svg\"%3E%3Cg fill=\"none\" fill-rule=\"evenodd\"%3E%3Cg fill=\"%236366f1\" fill-opacity=\"0.2\"%3E%3Cpath d=\"M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z\"/%3E%3C/g%3E%3C/g%3E%3C/svg%3E');"></div>
    
    <div class="container mx-auto px-4 sm:px-6 lg:px-8 max-w-5xl relative z-10">
      <div class="bg-theme-primary rounded-2xl shadow-xl overflow-hidden">
        <div class="grid grid-cols-1 md:grid-cols-5">
          <div class="md:col-span-3 p-8 md:p-12">
            <h2 class="text-2xl md:text-3xl font-bold text-theme-primary mb-4">Stay Updated with Latest Tutorials</h2>
            <p class="text-theme-secondary mb-6">Join 50,000+ e-commerce entrepreneurs who get our tutorials, tips, and strategies delivered to their inbox.</p>
            
            <form class="space-y-4 md:space-y-0 md:flex md:gap-3">
              <div class="flex-grow">
                <input 
                  type="email" 
                  placeholder="Your email address" 
                  class="w-full px-4 py-3 rounded-lg border border-gray-200 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-colors"
                >
              </div>
              <button type="submit" class="inline-flex justify-center items-center px-6 py-3 bg-indigo-600 text-white font-medium rounded-lg hover:bg-indigo-700 transition-colors w-full md:w-auto">
                Subscribe
                <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 ml-2" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 7l5 5m0 0l-5 5m5-5H6" />
                </svg>
              </button>
            </form>
            
            <div class="mt-4 text-sm text-theme-tertiary flex items-center">
              <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 mr-2 text-green-500" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z" />
              </svg>
              We respect your privacy. Unsubscribe anytime.
            </div>
          </div>
          
          <div class="hidden md:block md:col-span-2 bg-indigo-600 relative">
            <div class="absolute inset-0 opacity-20 mix-blend-overlay" style="background-image: url('data:image/svg+xml,%3Csvg width=\"40\" height=\"40\" viewBox=\"0 0 40 40\" xmlns=\"http://www.w3.org/2000/svg\"%3E%3Cg fill=\"%23ffffff\" fill-opacity=\"1\" fill-rule=\"evenodd\"%3E%3Cpath d=\"M0 40L40 0H20L0 20M40 40V20L20 40\"/%3E%3C/g%3E%3C/svg%3E');"></div>
            <div class="relative h-full flex items-center justify-center p-8">
              <div class="text-center text-white">
                <div class="inline-block p-3 bg-white/20 rounded-full mb-4">
                  <svg xmlns="http://www.w3.org/2000/svg" class="h-10 w-10" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z" />
                  </svg>
                </div>
                <div class="text-xl font-bold mb-2">Weekly Newsletter</div>
                <div class="text-indigo-100 text-sm">Get exclusive tutorials, case studies, and resources delivered every week</div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>
</div>

<%# JavaScript for Category Filtering %>
<%= javascript_tag do %>
  document.addEventListener('DOMContentLoaded', function() {
    const categoryPills = document.querySelectorAll('.category-pill');
    const tutorialCards = document.querySelectorAll('.tutorial-card');

    categoryPills.forEach(pill => {
      pill.addEventListener('click', function(e) {
        e.preventDefault();

        // Remove active class from all pills
        categoryPills.forEach(p => p.classList.remove('active'));

        // Add active class to clicked pill
        this.classList.add('active');

        const category = this.getAttribute('data-category');

        // Show/hide tutorials based on category with animation
        tutorialCards.forEach(card => {
          card.style.opacity = '0';
          card.style.transform = 'translateY(20px)';
          card.style.transition = 'opacity 300ms, transform 300ms';
          
          setTimeout(() => {
            if (category === 'all') {
              card.style.display = 'block';
              setTimeout(() => {
                card.style.opacity = '1';
                card.style.transform = 'translateY(0)';
              }, 50);
            } else {
              const cardCategories = card.getAttribute('data-categories').split(' ');
              if (cardCategories.includes(category)) {
                card.style.display = 'block';
                setTimeout(() => {
                  card.style.opacity = '1';
                  card.style.transform = 'translateY(0)';
                }, 50);
              } else {
                card.style.display = 'none';
              }
            }
          }, 300);
        });
      });
    });
  });
<% end %>
