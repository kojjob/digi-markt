<%# 
  Theme Alert Component
  
  Usage:
  <%= render 'shared/theme_alert', 
      message: 'Alert message', 
      style: :info,
      title: 'Alert Title', 
      dismissible: true,
      additional_classes: 'mt-4' 
  %>
  
  Options:
  - message: The alert message (required)
  - style: :info (default), :success, :warning, :error
  - title: The alert title (optional)
  - dismissible: Whether the alert can be dismissed (default: false)
  - additional_classes: Any additional classes to add
%>

<% 
  # Default values
  style ||= :info
  dismissible ||= false
  additional_classes ||= ''
  
  # Combined classes
  classes = "theme-alert theme-alert-#{style} #{additional_classes}"
%>

<div class="<%= classes %>" <%= 'data-controller="alert"' if dismissible %>>
  <% if dismissible %>
    <button type="button" class="absolute top-4 right-4 text-gray-400 hover:text-gray-600" data-action="alert#close">
      <span class="sr-only">Close</span>
      <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor">
        <path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd" />
      </svg>
    </button>
  <% end %>
  
  <% if defined?(title) && title.present? %>
    <div class="font-bold mb-2"><%= title %></div>
  <% end %>
  
  <div><%= message %></div>
</div>
